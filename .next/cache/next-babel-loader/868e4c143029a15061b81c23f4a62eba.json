{
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs2/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/asyncToGenerator\"));\n\nvar _router = _interopRequireDefault(require(\"next/router\"));\n\nvar _onDemandEntriesUtils = require(\"./on-demand-entries-utils\");\n\nvar _this = void 0;\n\nvar _default =\n/*#__PURE__*/\nfunction () {\n  var _ref2 = (0, _asyncToGenerator2.default)(function* (_ref) {\n    let {\n      assetPrefix\n    } = _ref;\n\n    _router.default.ready(() => {\n      _router.default.events.on('routeChangeComplete', _onDemandEntriesUtils.setupPing.bind(_this, assetPrefix, () => _router.default.pathname));\n    });\n\n    (0, _onDemandEntriesUtils.setupPing)(assetPrefix, () => _router.default.pathname, _onDemandEntriesUtils.currentPage); // prevent HMR connection from being closed when running tests\n\n    if (!process.env.__NEXT_TEST_MODE) {\n      document.addEventListener('visibilitychange', event => {\n        const state = document.visibilityState;\n\n        if (state === 'visible') {\n          (0, _onDemandEntriesUtils.setupPing)(assetPrefix, () => _router.default.pathname, true);\n        } else {\n          (0, _onDemandEntriesUtils.closePing)();\n        }\n      });\n    }\n  });\n\n  return function (_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nexports.default = _default;",
    "map": {
        "version": 3,
        "sources": [
            "/Users/vincentpoulain/Development/quiet/node_modules/next/dist/client/dev/on-demand-entries-client.js"
        ],
        "names": [
            "_interopRequireDefault",
            "require",
            "exports",
            "__esModule",
            "default",
            "_asyncToGenerator2",
            "_router",
            "_onDemandEntriesUtils",
            "_this",
            "_default",
            "_ref2",
            "_ref",
            "assetPrefix",
            "ready",
            "events",
            "on",
            "setupPing",
            "bind",
            "pathname",
            "currentPage",
            "process",
            "env",
            "__NEXT_TEST_MODE",
            "document",
            "addEventListener",
            "event",
            "state",
            "visibilityState",
            "closePing",
            "_x",
            "apply",
            "arguments"
        ],
        "mappings": "AAAA;;AAAa,IAAIA,sBAAsB,GAACC,OAAO,CAAC,sDAAD,CAAlC;;AAA2FC,OAAO,CAACC,UAAR,GAAmB,IAAnB;AAAwBD,OAAO,CAACE,OAAR,GAAgB,KAAK,CAArB;;AAAuB,IAAIC,kBAAkB,GAACL,sBAAsB,CAACC,OAAO,CAAC,iDAAD,CAAR,CAA7C;;AAA0G,IAAIK,OAAO,GAACN,sBAAsB,CAACC,OAAO,CAAC,aAAD,CAAR,CAAlC;;AAA2D,IAAIM,qBAAqB,GAACN,OAAO,CAAC,2BAAD,CAAjC;;AAA+D,IAAIO,KAAK,GAAC,KAAK,CAAf;;AAAiB,IAAIC,QAAQ;AAAC;AAAa,YAAU;AAAC,MAAIC,KAAK,GAAC,CAAC,GAAEL,kBAAkB,CAACD,OAAtB,EAA+B,WAAUO,IAAV,EAAe;AAAC,QAAG;AAACC,MAAAA;AAAD,QAAcD,IAAjB;;AAAsBL,IAAAA,OAAO,CAACF,OAAR,CAAgBS,KAAhB,CAAsB,MAAI;AAACP,MAAAA,OAAO,CAACF,OAAR,CAAgBU,MAAhB,CAAuBC,EAAvB,CAA0B,qBAA1B,EAAgDR,qBAAqB,CAACS,SAAtB,CAAgCC,IAAhC,CAAqCT,KAArC,EAA2CI,WAA3C,EAAuD,MAAIN,OAAO,CAACF,OAAR,CAAgBc,QAA3E,CAAhD;AAAuI,KAAlK;;AAAoK,KAAC,GAAEX,qBAAqB,CAACS,SAAzB,EAAoCJ,WAApC,EAAgD,MAAIN,OAAO,CAACF,OAAR,CAAgBc,QAApE,EAA6EX,qBAAqB,CAACY,WAAnG,EAA3L,CAA2S;;AACpxB,QAAG,CAACC,OAAO,CAACC,GAAR,CAAYC,gBAAhB,EAAiC;AAACC,MAAAA,QAAQ,CAACC,gBAAT,CAA0B,kBAA1B,EAA6CC,KAAK,IAAE;AAAC,cAAMC,KAAK,GAACH,QAAQ,CAACI,eAArB;;AAAqC,YAAGD,KAAK,KAAG,SAAX,EAAqB;AAAC,WAAC,GAAEnB,qBAAqB,CAACS,SAAzB,EAAoCJ,WAApC,EAAgD,MAAIN,OAAO,CAACF,OAAR,CAAgBc,QAApE,EAA6E,IAA7E;AAAoF,SAA1G,MAA8G;AAAC,WAAC,GAAEX,qBAAqB,CAACqB,SAAzB;AAAuC;AAAC,OAAjP;AAAoP;AAAC,GADoK,CAAV;;AACxJ,SAAO,UAASC,EAAT,EAAY;AAAC,WAAOnB,KAAK,CAACoB,KAAN,CAAY,IAAZ,EAAiBC,SAAjB,CAAP;AAAoC,GAAxD;AAA0D,CADmF,EAA1B;;AACtD7B,OAAO,CAACE,OAAR,GAAgBK,QAAhB",
        "sourcesContent": [
            "\"use strict\";var _interopRequireDefault=require(\"@babel/runtime-corejs2/helpers/interopRequireDefault\");exports.__esModule=true;exports.default=void 0;var _asyncToGenerator2=_interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/asyncToGenerator\"));var _router=_interopRequireDefault(require(\"next/router\"));var _onDemandEntriesUtils=require(\"./on-demand-entries-utils\");var _this=void 0;var _default=/*#__PURE__*/function(){var _ref2=(0,_asyncToGenerator2.default)(function*(_ref){let{assetPrefix}=_ref;_router.default.ready(()=>{_router.default.events.on('routeChangeComplete',_onDemandEntriesUtils.setupPing.bind(_this,assetPrefix,()=>_router.default.pathname));});(0,_onDemandEntriesUtils.setupPing)(assetPrefix,()=>_router.default.pathname,_onDemandEntriesUtils.currentPage);// prevent HMR connection from being closed when running tests\nif(!process.env.__NEXT_TEST_MODE){document.addEventListener('visibilitychange',event=>{const state=document.visibilityState;if(state==='visible'){(0,_onDemandEntriesUtils.setupPing)(assetPrefix,()=>_router.default.pathname,true);}else{(0,_onDemandEntriesUtils.closePing)();}});}});return function(_x){return _ref2.apply(this,arguments);};}();exports.default=_default;"
        ]
    },
    "metadata": {},
    "sourceType": "script"
}
